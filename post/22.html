<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Minecode</title><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="next-head-count" content="3"/><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/css/7e3d76f3b94b138f978c.css" as="style"/><link rel="stylesheet" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/css/7e3d76f3b94b138f978c.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/framework.bbb3e954997faabb7e25.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/4d394b6eac41034d52403a9c69bab475456b68cd.d652d981997954f1823c.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/main-a4e981f84634301fc825.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/pages/_app-ffad712006e2376eb55f.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/cb1608f2.bf396927f64ce5779777.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/7f039369aadd54df2b7485d9d62ad716e7ffd267.817674e39317854a8e95.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/122b2f7543d3b8cb2e0483e1b11b9e7f4c8a85b5.2959378f7e30a76c2452.js" as="script"/><link rel="preload" href="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/pages/post/%5Bid%5D-3ba8416640705b8635fe.js" as="script"/></head><body><div id="__next"><main><nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top"><div class="container"><a class="navbar-brand" href="/"><img src="/images/logo.png" width="30" height="30" alt=""/><span> Minecode</span></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button></div></nav><div class="content"><div style="box-sizing:border-box;position:relative;height:400px;width:100%;overflow:hidden"><div class="container-fluid" id="content" style="background-image:url(https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/127214439/original/159f1cf368a77ca77eefb529988854bee646d7c4/do-your-api-integration.jpg);background-size:cover;background-repeat:no-repeat;background-position:center;filter:blur(8px);height:100%;width:100%;position:absolute"></div><div class="container-fluid" style="background-color:rgb(0,0,0,0.5);color:white;font-weight:bold;z-index:2;height:100%;width:100%;text-align:center;position:relative"><div class="pricing-header px-3 py-3 mx-auto text-center" id="title"><h1 class="display-4" style="color:#fff;margin-top:5%">REST e RESTful - Parte 3<br/></h1></div><div class="px-3 py-3 pb-md-4 mx-auto text-center"><div class="d-flex align-middle justify-content-center align-items-center"><div class="row"><div class="align-self-center p-2" id="infoPost"><p style="color:#fff;font-size:16px">Posted on <!-- -->April, 2020<!-- --> by<a class="mt-3 mb-4 btn btn-sm" href="https://github.com/fabiohfab" target="_blank" rel="noopener noreferrer" style="color:#fff">fabiohfab<!-- --> <img class="rounded-circle" src="https://avatars.githubusercontent.com/u/17369918?v=4" alt="Github" width="24" height="24"/></a></p></div></div></div></div></div></div><div class="container"><div class="pt-md-5 pb-md-4 mx-auto" id="post"><div><p>Esta é a terceira parte do artigo. Na <a href="https://minecode.github.io/blog/post/19">primeira</a> e <a href="https://minecode.github.io/blog/post/20">segunda</a> partes foram abordados outras temáticas de uma API REST tais como os fundamentos, métodos HTTP, códigos de erro e como podemos tornar a nossa API mais RESTful. É aconsellhada a leitura para os leitores que não dominem estes conceitos. Neste parte do artigo vamos abordar a segurança da nossa API.</p><p>No caso da segurança da nossa API, um dos erros mais importantes é o erro 401, que significa que determinado utilizador não está autorizado a aceder ao recurso solicitado ou que não tem permissões para alterar o estado do recurso. Normalmente, este erro dá-se quando uma autenticação é necessária. Visto que as solicitações são sem estado, é sempre necessário introduzir nestas a informação de que um utilizador está autenticado na API. Existem vários tipos de autenticação: autenticação básica, autenticação por token e JSON Web Token.</p><p><img src="https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/127214439/original/159f1cf368a77ca77eefb529988854bee646d7c4/do-your-api-integration.jpg"/></p><p>A autenticação básica consiste em concatenar o nome de utilizador e a palavra passe separadas por dois pontos, &quot;username:password&quot;, e encriptar em base64. Em cada requisição deverá ser incluído um cabeçalho &quot;Authorization: Basic base64(username:password)&quot; no &quot;Header&quot; de forma a fornecer as credenciais de acesso à API. Este tipo de autenticação é inseguro, porque no caso de se tratar de aplicações móveis ou aplicativos de página única, é necessário armazenar algures as credencias do utilizador, o que não é uma boa prática. Ainda assim, este tipo de autenticação poderá ser usada com HTTPS, no caso de ser uma API simples ou privada, visto que a implementação não é complexa.</p><p><img src="https://blog.restcase.com/content/images/2019/07/website-authentication-authorization.png"/></p><p>As APIs que usam a autenticação por token possuem um URL que aceita a solicitação POST com o nome de utilizador e senha e que retorna um token. Este token geralmente é gerado aleatoriamente ou criptograficamente e é ele que deve ser guardado para posteriormente ser introduzido no cabeçalho &quot;Authorization&quot; das requisições. Este token é mapeado para o utilizador e é desta forma que a API sabe qual utilizador está a aceder ao recurso. Os tokens têm imensas vantagens, principalmente a nível de segurança. Desta forma não é necessário guardar a senha do utilizador e assim nunca ficará comprometida. No caso do token ser comprometido, não é necessário alterar a password para que este fique inválido. Outra medida de segurança que pode ser introduzida com este tipo de autenticação é o tempo de validade de um token. Assim sendo, mesmo que um token seja comprometido e que o utilizador não se aperceba, o token irá expirar e será necessário introduzir a password para ter acesso a um novo token.</p><p><img src="https://uploads.toptal.io/blog/image/956/toptal-blog-image-1426676395222.jpeg"/></p><p>O JSON web token (JWT) é um tipo de token padrão que contém informação útil em JSON para a autenticação. Uma característica principal deste tipo de autenticação é que, como ele transporta uma carga útil de informação, é possível transportar informações, como o nome do utilizador. Desta forma, a cada requisição, não é necessário comunicar com outro recurso do sistema para validar ou recuperar informações do utilizador. De cada token podem ser obtidas informações do servidor como id, dados do perfil e permissões.</p></div></div><div class="text-center"><a href="/tag/Api" class="m-1 btn btn-primary" style="background-color:#6750ba;border:none">Api</a><a href="/tag/Rest" class="m-1 btn btn-primary" style="background-color:#d1b51b;border:none">Rest</a><a href="/tag/Restful" class="m-1 btn btn-primary" style="background-color:#aa2a46;border:none">Restful</a></div><div class="mt-5 mb-5"></div><div class="row justify-content-center"><div class="col-4 row justify-content-center"><div class="align-self-center p-2">fabiohfab<a class="mt-3 mb-4 btn btn-sm" href="https://github.com/fabiohfab" target="_blank" rel="noopener noreferrer" style="color:#fff"><img class="rounded-circle" src="https://avatars.githubusercontent.com/u/17369918?v=4" alt="Github" width="24" height="24"/></a></div></div></div></div></div></main><footer class="py-5 bg-dark"><div class="container"><p class="m-0 text-center text-white">Copyright © Minecode 2020</p><p class="text-center mt-2"><a href="http://www.freepik.com">Designed by slidesgo, stories and macrovector / Freepik</a></p></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"url":"https://api.github.com/repos/minecode/minecode.github.io/issues/22","repository_url":"https://api.github.com/repos/minecode/minecode.github.io","labels_url":"https://api.github.com/repos/minecode/minecode.github.io/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/minecode/minecode.github.io/issues/22/comments","events_url":"https://api.github.com/repos/minecode/minecode.github.io/issues/22/events","html_url":"https://github.com/minecode/minecode.github.io/issues/22","id":603580084,"node_id":"MDU6SXNzdWU2MDM1ODAwODQ=","number":22,"title":"[POST] REST e RESTful - Parte 3","user":{"login":"fabiohfab","id":17369918,"node_id":"MDQ6VXNlcjE3MzY5OTE4","avatar_url":"https://avatars.githubusercontent.com/u/17369918?v=4","gravatar_id":"","url":"https://api.github.com/users/fabiohfab","html_url":"https://github.com/fabiohfab","followers_url":"https://api.github.com/users/fabiohfab/followers","following_url":"https://api.github.com/users/fabiohfab/following{/other_user}","gists_url":"https://api.github.com/users/fabiohfab/gists{/gist_id}","starred_url":"https://api.github.com/users/fabiohfab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabiohfab/subscriptions","organizations_url":"https://api.github.com/users/fabiohfab/orgs","repos_url":"https://api.github.com/users/fabiohfab/repos","events_url":"https://api.github.com/users/fabiohfab/events{/privacy}","received_events_url":"https://api.github.com/users/fabiohfab/received_events","type":"User","site_admin":false},"labels":[{"id":2001541402,"node_id":"MDU6TGFiZWwyMDAxNTQxNDAy","url":"https://api.github.com/repos/minecode/minecode.github.io/labels/Api","name":"Api","color":"6750ba","default":false,"description":""},{"id":2001541476,"node_id":"MDU6TGFiZWwyMDAxNTQxNDc2","url":"https://api.github.com/repos/minecode/minecode.github.io/labels/Rest","name":"Rest","color":"d1b51b","default":false,"description":""},{"id":2001541586,"node_id":"MDU6TGFiZWwyMDAxNTQxNTg2","url":"https://api.github.com/repos/minecode/minecode.github.io/labels/Restful","name":"Restful","color":"aa2a46","default":false,"description":""},{"id":1923405712,"node_id":"MDU6TGFiZWwxOTIzNDA1NzEy","url":"https://api.github.com/repos/minecode/minecode.github.io/labels/post","name":"post","color":"2dc64e","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"fabiohfab","id":17369918,"node_id":"MDQ6VXNlcjE3MzY5OTE4","avatar_url":"https://avatars.githubusercontent.com/u/17369918?v=4","gravatar_id":"","url":"https://api.github.com/users/fabiohfab","html_url":"https://github.com/fabiohfab","followers_url":"https://api.github.com/users/fabiohfab/followers","following_url":"https://api.github.com/users/fabiohfab/following{/other_user}","gists_url":"https://api.github.com/users/fabiohfab/gists{/gist_id}","starred_url":"https://api.github.com/users/fabiohfab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabiohfab/subscriptions","organizations_url":"https://api.github.com/users/fabiohfab/orgs","repos_url":"https://api.github.com/users/fabiohfab/repos","events_url":"https://api.github.com/users/fabiohfab/events{/privacy}","received_events_url":"https://api.github.com/users/fabiohfab/received_events","type":"User","site_admin":false},"assignees":[{"login":"fabiohfab","id":17369918,"node_id":"MDQ6VXNlcjE3MzY5OTE4","avatar_url":"https://avatars.githubusercontent.com/u/17369918?v=4","gravatar_id":"","url":"https://api.github.com/users/fabiohfab","html_url":"https://github.com/fabiohfab","followers_url":"https://api.github.com/users/fabiohfab/followers","following_url":"https://api.github.com/users/fabiohfab/following{/other_user}","gists_url":"https://api.github.com/users/fabiohfab/gists{/gist_id}","starred_url":"https://api.github.com/users/fabiohfab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabiohfab/subscriptions","organizations_url":"https://api.github.com/users/fabiohfab/orgs","repos_url":"https://api.github.com/users/fabiohfab/repos","events_url":"https://api.github.com/users/fabiohfab/events{/privacy}","received_events_url":"https://api.github.com/users/fabiohfab/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2020-04-20T22:38:16Z","updated_at":"2020-04-21T08:31:36Z","closed_at":"2020-04-21T08:30:42Z","author_association":"MEMBER","active_lock_reason":null,"body":"Esta é a terceira parte do artigo. Na [primeira](https://minecode.github.io/blog/post/19) e [segunda](https://minecode.github.io/blog/post/20) partes foram abordados outras temáticas de uma API REST tais como os fundamentos, métodos HTTP, códigos de erro e como podemos tornar a nossa API mais RESTful. É aconsellhada a leitura para os leitores que não dominem estes conceitos. Neste parte do artigo vamos abordar a segurança da nossa API.\r\n\r\nNo caso da segurança da nossa API, um dos erros mais importantes é o erro 401, que significa que determinado utilizador não está autorizado a aceder ao recurso solicitado ou que não tem permissões para alterar o estado do recurso. Normalmente, este erro dá-se quando uma autenticação é necessária. Visto que as solicitações são sem estado, é sempre necessário introduzir nestas a informação de que um utilizador está autenticado na API. Existem vários tipos de autenticação: autenticação básica, autenticação por token e JSON Web Token.\r\n\r\n![](https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/127214439/original/159f1cf368a77ca77eefb529988854bee646d7c4/do-your-api-integration.jpg)\r\n\r\nA autenticação básica consiste em concatenar o nome de utilizador e a palavra passe separadas por dois pontos, \"username:password\", e encriptar em base64. Em cada requisição deverá ser incluído um cabeçalho \"Authorization: Basic base64(username:password)\" no \"Header\" de forma a fornecer as credenciais de acesso à API. Este tipo de autenticação é inseguro, porque no caso de se tratar de aplicações móveis ou aplicativos de página única, é necessário armazenar algures as credencias do utilizador, o que não é uma boa prática. Ainda assim, este tipo de autenticação poderá ser usada com HTTPS, no caso de ser uma API simples ou privada, visto que a implementação não é complexa.\r\n\r\n![](https://blog.restcase.com/content/images/2019/07/website-authentication-authorization.png)\r\n\r\nAs APIs que usam a autenticação por token possuem um URL que aceita a solicitação POST com o nome de utilizador e senha e que retorna um token. Este token geralmente é gerado aleatoriamente ou criptograficamente e é ele que deve ser guardado para posteriormente ser introduzido no cabeçalho \"Authorization\" das requisições. Este token é mapeado para o utilizador e é desta forma que a API sabe qual utilizador está a aceder ao recurso. Os tokens têm imensas vantagens, principalmente a nível de segurança. Desta forma não é necessário guardar a senha do utilizador e assim nunca ficará comprometida. No caso do token ser comprometido, não é necessário alterar a password para que este fique inválido. Outra medida de segurança que pode ser introduzida com este tipo de autenticação é o tempo de validade de um token. Assim sendo, mesmo que um token seja comprometido e que o utilizador não se aperceba, o token irá expirar e será necessário introduzir a password para ter acesso a um novo token.\r\n\r\n![](https://uploads.toptal.io/blog/image/956/toptal-blog-image-1426676395222.jpeg)\r\n\r\nO JSON web token (JWT) é um tipo de token padrão que contém informação útil em JSON para a autenticação. Uma característica principal deste tipo de autenticação é que, como ele transporta uma carga útil de informação, é possível transportar informações, como o nome do utilizador. Desta forma, a cada requisição, não é necessário comunicar com outro recurso do sistema para validar ou recuperar informações do utilizador. De cada token podem ser obtidas informações do servidor como id, dados do perfil e permissões.","closed_by":{"login":"fabiohfab","id":17369918,"node_id":"MDQ6VXNlcjE3MzY5OTE4","avatar_url":"https://avatars.githubusercontent.com/u/17369918?v=4","gravatar_id":"","url":"https://api.github.com/users/fabiohfab","html_url":"https://github.com/fabiohfab","followers_url":"https://api.github.com/users/fabiohfab/followers","following_url":"https://api.github.com/users/fabiohfab/following{/other_user}","gists_url":"https://api.github.com/users/fabiohfab/gists{/gist_id}","starred_url":"https://api.github.com/users/fabiohfab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabiohfab/subscriptions","organizations_url":"https://api.github.com/users/fabiohfab/orgs","repos_url":"https://api.github.com/users/fabiohfab/repos","events_url":"https://api.github.com/users/fabiohfab/events{/privacy}","received_events_url":"https://api.github.com/users/fabiohfab/received_events","type":"User","site_admin":false},"performed_via_github_app":null},"relatedPosts":[]},"__N_SSG":true},"page":"/post/[id]","query":{"id":"22"},"buildId":"u8zW19TnfOuce_n6hjyVG","assetPrefix":"https://cdn.statically.io/gh/minecode/minecode.github.io/master","isFallback":false,"gsp":true}</script><script nomodule="" src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/polyfills-28654a8145d7603786fc.js"></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/framework.bbb3e954997faabb7e25.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/4d394b6eac41034d52403a9c69bab475456b68cd.d652d981997954f1823c.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/main-a4e981f84634301fc825.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/pages/_app-ffad712006e2376eb55f.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/cb1608f2.bf396927f64ce5779777.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/7f039369aadd54df2b7485d9d62ad716e7ffd267.817674e39317854a8e95.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/122b2f7543d3b8cb2e0483e1b11b9e7f4c8a85b5.2959378f7e30a76c2452.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/chunks/pages/post/%5Bid%5D-3ba8416640705b8635fe.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/u8zW19TnfOuce_n6hjyVG/_buildManifest.js" async=""></script><script src="https://cdn.statically.io/gh/minecode/minecode.github.io/master/_next/static/u8zW19TnfOuce_n6hjyVG/_ssgManifest.js" async=""></script></body></html>