{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { getHeader, getDate, getTitle } from '../../../../components/Utils';\nimport { useRouter } from 'next/router';\n\nvar release = function release() {\n  var _useState = useState(null),\n      milestone = _useState[0],\n      setMilestones = _useState[1];\n\n  var _useState2 = useState(null),\n      issuesMilestones = _useState2[0],\n      setIssuesMilestones = _useState2[1];\n\n  var _useState3 = useState(null),\n      issuesNonClosedMilestones = _useState3[0],\n      setIssuesNonClosedMilestones = _useState3[1];\n\n  var router = useRouter();\n  var _router$query = router.query,\n      id = _router$query.id,\n      repository = _router$query.repository;\n  useEffect(function () {\n    if (id !== undefined && repository !== undefined) {\n      var header = getHeader();\n      fetch('https://minecode.herokuapp.com/github/repos/minecode/' + repository + '/milestones/' + id, {\n        method: 'GET',\n        headers: header\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n        setMilestones(data);\n      });\n      fetch('https://minecode.herokuapp.com/github/repos/minecode/' + repository + '/milestones/' + id + '/issues/closed', {\n        method: 'GET',\n        headers: header\n      }).then(function (res1) {\n        return res1.json();\n      }).then(function (data1) {\n        console.log(data1);\n        setIssuesMilestones(data1);\n      });\n      fetch('https://minecode.herokuapp.com/github/repos/minecode/' + repository + '/milestones/' + id, {\n        method: 'GET',\n        headers: header\n      }).then(function (res1) {\n        return res1.json();\n      }).then(function (data1) {\n        console.log(data1);\n        setIssuesNonClosedMilestones(data1);\n      });\n    }\n  }, [repository, id]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"container\",\n    children: [getTitle('Release Notes'), milestone && [milestone].map(function (element) {\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"row text-center\",\n          children: [/*#__PURE__*/_jsxs(\"h2\", {\n            className: \"col-12\",\n            children: [\"Version \", element.title, ' ', element.state === 'closed' ? ' released at ' + getDate(element.closed_at) : ' due on ' + getDate(element.due_on)]\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"col-12\",\n            style: {\n              opacity: 0.5\n            },\n            children: element.description\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: \"col-12\",\n            children: [\"Open issues \", element.open_issues, /*#__PURE__*/_jsx(\"br\", {}), \"Closed issues \", element.closed_issues]\n          })]\n        }), /*#__PURE__*/_jsx(\"ul\", {\n          className: \"row\",\n          children: issuesMilestones && issuesNonClosedMilestones && issuesMilestones.concat(issuesNonClosedMilestones).map(function (element2, i) {\n            console.log(element2);\n            return /*#__PURE__*/_jsxs(\"li\", {\n              className: \"col-6\",\n              children: [/*#__PURE__*/_jsxs(\"p\", {\n                children: [/*#__PURE__*/_jsx(\"span\", {\n                  style: {\n                    opacity: element2.state === 'closed' ? 1 : 0.5\n                  },\n                  children: element2.title\n                }), element2.labels && element2.labels.map(function (element3, i) {\n                  return /*#__PURE__*/_jsx(\"div\", {\n                    className: \"m-1 btn btn-sm btn-primary\",\n                    style: {\n                      backgroundColor: '#' + element3.color,\n                      border: 'none'\n                    },\n                    children: element3.name\n                  }, i);\n                })]\n              }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"p\", {\n                style: {\n                  opacity: 0.5\n                },\n                children: element2.body\n              }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"p\", {\n                style: {\n                  opacity: 0.5\n                },\n                children: element2.state === 'closed' ? getDate(element2.closed_at) : getDate(element.due_on)\n              })]\n            }, i);\n          })\n        })]\n      });\n    })]\n  });\n};\n\nexport default release;","map":null,"metadata":{},"sourceType":"module"}