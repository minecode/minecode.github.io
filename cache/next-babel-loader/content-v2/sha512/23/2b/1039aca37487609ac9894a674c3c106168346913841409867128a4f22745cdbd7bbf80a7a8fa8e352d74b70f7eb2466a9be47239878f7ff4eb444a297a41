{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport { titleCase, getHeader, getCard, getElement } from '../../../components/Utils';\nimport { faStar, faEye, faCodeBranch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useRouter } from 'next/router';\n\nconst appPage = () => {\n  const router = useRouter();\n  const {\n    name\n  } = router.query;\n  const {\n    0: headers,\n    1: setHeaders\n  } = useState(null);\n  const {\n    0: data,\n    1: setData\n  } = useState(null);\n  const {\n    0: date,\n    1: setDate\n  } = useState(null);\n  const {\n    0: contents,\n    1: setContents\n  } = useState(null);\n  const {\n    0: issues,\n    1: setIssues\n  } = useState(null);\n  const {\n    0: images,\n    1: setImages\n  } = useState(null);\n  const {\n    0: hoverElement,\n    1: setHoverElement\n  } = useState(null);\n  const {\n    0: milestoneNonReleasesd,\n    1: setMilestonesNonReleasesd\n  } = useState(null);\n  const {\n    0: milestoneReleasesd,\n    1: setMilestonesReleasesd\n  } = useState(null);\n  const {\n    0: contributors,\n    1: setContributors\n  } = useState(null);\n\n  async function getRepInfo() {\n    fetch('https://minecode.herokuapp.com/github/repos/minecode/' + name, {\n      method: 'GET',\n      headers: headers\n    }).then(res => res.json()).then(data => {\n      console.log('data');\n      console.log('https://minecode.herokuapp.com/github/repos/minecode/' + name);\n      console.log(data);\n      setData(data);\n    });\n  }\n\n  async function getContents() {\n    fetch('https://minecode.herokuapp.com/github/repos/minecode/' + name + '/contents', {\n      method: 'GET',\n      headers: headers\n    }).then(res => res.json()).then(data => {\n      if (data.content !== undefined) {\n        let temp_contents = JSON.parse(atob(data.content));\n        setContents(temp_contents);\n\n        if (temp_contents.play_console_images) {\n          fetch('https://minecode.herokuapp.com/github/repos/minecode/' + name + '/contents/' + temp_contents.play_console_images + '', {\n            method: 'GET',\n            headers: headers\n          }).then(res => res.json()).then(images => {\n            setImages(images);\n          });\n        }\n      }\n    });\n  }\n\n  async function getMilestones() {\n    fetch('https://minecode.herokuapp.com/github/repos/minecode/' + name + '/milestones/closed', {\n      method: 'GET',\n      headers: headers\n    }).then(res => res.json()).then(data => {\n      console.log(\"setMilestonesReleasesd\");\n      console.log(data);\n      setMilestonesReleasesd(data);\n    });\n    fetch('https://minecode.herokuapp.com/github/repos/minecode/' + name + '/milestones', {\n      method: 'GET',\n      headers: headers\n    }).then(res => res.json()).then(data => {\n      console.log(\"setMilestonesNonReleasesd\");\n      console.log(data);\n      setMilestonesNonReleasesd(data);\n    });\n  }\n\n  async function getContributors() {\n    fetch('https://minecode.herokuapp.com/github/repos/minecode/' + name + '/contributors', {\n      method: 'GET',\n      headers: headers\n    }).then(res => res.json()).then(data => {\n      data.forEach(async element => {\n        fetch('https://minecode.herokuapp.com/github/users/' + element.login, {\n          method: 'GET',\n          headers: headers\n        }).then(res => res.json()).then(user => {\n          element['user'] = user;\n        });\n      });\n      setContributors(data);\n    });\n  }\n\n  useEffect(() => {\n    setHeaders(getHeader());\n  }, []);\n  useEffect(() => {\n    if (headers && name) {\n      getRepInfo();\n      getMilestones();\n    } // eslint-disable-next-line\n\n  }, [name, headers]);\n  useEffect(() => {\n    if (data && name) {\n      if (data.updated_at) {\n        let temp_date = new Date(data.updated_at);\n        setDate(temp_date.getDate() + '/' + (temp_date.getMonth() + 1) + '/' + temp_date.getFullYear());\n      }\n\n      getContents();\n      getContributors();\n    } // eslint-disable-next-line\n\n  }, [name, data]);\n  useEffect(() => {\n    console.log('here');\n    console.log(contents);\n    console.log(name);\n    console.log(headers);\n\n    if (contents && name && headers) {\n      console.log('HERE');\n      fetch('https://minecode.herokuapp.com/github/repos/minecode/' + name + '/issues/open/bug', {\n        method: 'GET',\n        headers: headers\n      }).then(res => res.json()).then(data => {\n        console.log('data');\n        console.log(data);\n        setIssues(data);\n      });\n    } // eslint-disable-next-line\n\n  }, [name, contents, headers]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: 'container-fluid',\n      style: {\n        backgroundColor: '#f1f1f1'\n      },\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: 'container py-5',\n        style: {\n          color: '#212121'\n        },\n        children: data && /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: 'row mx-2',\n            style: {\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsx(\"h1\", {\n              children: titleCase(data.name)\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: 'mx-2',\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                icon: faEye\n              }), ' ', data.subscribers_count]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: 'mx-2',\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                icon: faStar\n              }), ' ', data.stargazers_count]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: 'mx-2',\n              children: [/*#__PURE__*/_jsx(FontAwesomeIcon, {\n                icon: faCodeBranch\n              }), ' ', data.forks]\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: 'row mx-2',\n            children: data.description\n          }), /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              textAlign: 'center',\n              marginBottom: 100,\n              marginTop: 100\n            },\n            children: images && images.map((image, k) => {\n              if (k < 4) {\n                return /*#__PURE__*/_jsx(\"img\", {\n                  alt: \"Github\",\n                  style: {\n                    margin: 10,\n                    borderRadius: 20\n                  },\n                  width: 200,\n                  src: image.download_url\n                }, k);\n              } else {\n                return /*#__PURE__*/_jsx(_Fragment, {});\n              }\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: 'row',\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: 'col-sm-12 col-md-6',\n              style: {\n                textAlign: 'center'\n              },\n              children: [date && /*#__PURE__*/_jsx(\"div\", {\n                className: 'mx-2 mt-5',\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  style: {\n                    color: '#212121'\n                  },\n                  children: [\"Updated at \", date]\n                })\n              }), contents && contents.link_mobile && /*#__PURE__*/_jsxs(\"a\", {\n                className: 'mt-3 mx-2 mb-4 btn btn-sm btn-outline-primary',\n                href: contents.link_mobile.includes('https://') || contents.link_mobile.includes('http://') ? contents.link_mobile : 'https://' + contents.link_mobile,\n                rel: \"noopener noreferrer\",\n                target: \"_blank\",\n                type: \"button\",\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  alt: \"Github\",\n                  src: '/images/google-play-store.svg',\n                  width: 24,\n                  height: 24\n                }), ' ', \"Get App\"]\n              }), contents && contents.link_website && /*#__PURE__*/_jsxs(\"a\", {\n                className: 'mt-3 mx-2 mb-4 btn btn-sm btn-outline-primary',\n                href: contents.link_website.includes('https://') || contents.link_website.includes('http://') ? contents.link_website : 'https://' + contents.link_website,\n                rel: \"noopener noreferrer\",\n                target: \"_blank\",\n                type: \"button\",\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  alt: \"Github\",\n                  src: '/images/web-page.svg',\n                  width: 24,\n                  height: 24\n                }), ' ', \"Website\"]\n              }), data && data.html_url && /*#__PURE__*/_jsxs(\"a\", {\n                className: 'mt-3 mx-2 mb-4 btn btn-sm btn-outline-primary',\n                href: data.html_url.includes('https://') || data.html_url.includes('http://') ? data.html_url : 'https://' + data.html_url,\n                rel: \"noopener noreferrer\",\n                target: \"_blank\",\n                type: \"button\",\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  alt: \"Github\",\n                  src: '/images/github.svg',\n                  width: 24,\n                  height: 24\n                }), ' ', \"Github\"]\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: 'col-sm-12 col-md-6',\n              style: {\n                textAlign: 'center'\n              },\n              children: issues && issues.map((issue, i) => {\n                return /*#__PURE__*/_jsx(\"div\", {\n                  className: 'mx-2 my-3',\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    children: [/*#__PURE__*/_jsxs(\"a\", {\n                      href: issue.html_url,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      children: [\"#\", issue.number, ' ', titleCase(issue.title)]\n                    }), issue.labels && issue.labels.map((label, j) => {\n                      return /*#__PURE__*/_jsx(\"div\", {\n                        className: 'btn btn-danger btn-sm m-1',\n                        children: label.name\n                      }, j);\n                    }), issue.milestone && /*#__PURE__*/_jsxs(\"div\", {\n                      children: [\"Implementa\\xE7\\xE3o/Corre\\xE7\\xE3o prevista em\", ' ', issue.milestone.title]\n                    })]\n                  })\n                }, i);\n              })\n            })]\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: 'container-fluid',\n      style: {\n        backgroundColor: '#212121'\n      },\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: 'container py-5 text-center',\n        style: {\n          color: '#f1f1f1'\n        },\n        children: [/*#__PURE__*/_jsx(\"h2\", {\n          children: \"Releases\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: 'row',\n          style: {\n            justifyContent: 'center'\n          },\n          children: [milestoneReleasesd && milestoneReleasesd.map((element, i) => {\n            if (i + 1 === milestoneReleasesd.length) {\n              element['repository'] = name;\n              const releaseElement = getElement('release', element);\n              return getCard(i + '_1', releaseElement, hoverElement, setHoverElement);\n            } else {\n              return /*#__PURE__*/_jsx(_Fragment, {});\n            }\n          }), milestoneNonReleasesd && milestoneNonReleasesd.map((element, i) => {\n            if (i === 0) {\n              element['repository'] = name;\n              const releaseElement = getElement('release', element);\n              return getCard(i + '_2', releaseElement, hoverElement, setHoverElement);\n            } else {\n              return /*#__PURE__*/_jsx(_Fragment, {});\n            }\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: 'container-fluid',\n      style: {\n        backgroundColor: '#f1f1f1'\n      },\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: 'container py-5 text-center',\n        style: {\n          color: '#212121'\n        },\n        children: [/*#__PURE__*/_jsx(\"h2\", {\n          children: \"Contributors\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: 'row',\n          style: {\n            justifyContent: 'center'\n          },\n          children: contributors && contributors.map((contributor, i) => {\n            if (contributor.user && contributor.login !== 'minecodebot') {\n              return /*#__PURE__*/_jsxs(\"div\", {\n                className: 'mx-2',\n                style: {\n                  background: `linear-gradient(#21212190, #21212190), url(${contributor.user.avatar_url}`,\n                  backgroundSize: 'cover',\n                  backgroundPosition: 'center',\n                  backgroundColor: '#21212180',\n                  borderRadius: 20,\n                  height: 300,\n                  width: 200,\n                  textAlign: 'center',\n                  display: 'flex',\n                  justifyContent: 'space-around',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n                  MsTransform: hoverElement === 'c_' + i ? 'scale(1.1)' : 'scale(1.0)',\n                  MozTransform: hoverElement === 'c_' + i ? 'scale(1.1)' : 'scale(1.0)',\n                  transform: hoverElement === 'c_' + i ? 'scale(1.1)' : 'scale(1.0)',\n                  WebkitTransform: hoverElement === 'c_' + i ? 'scale(1.1)' : 'scale(1.0)',\n                  OTransform: hoverElement === 'c_' + i ? 'scale(1.1)' : 'scale(1.0)',\n                  transition: 'all .5s ease',\n                  WebkitTransition: 'all .5s ease',\n                  MozTransition: 'all .5s ease'\n                },\n                onMouseEnter: () => {\n                  setHoverElement('c_' + i);\n                },\n                onMouseLeave: () => {\n                  setHoverElement(null);\n                },\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  style: {\n                    color: '#f1f1f1'\n                  },\n                  children: contributor.user.name\n                }), /*#__PURE__*/_jsxs(\"a\", {\n                  type: \"button\",\n                  className: \"mt-3 mb-4 btn btn-sm btn-secondary\",\n                  href: contributor.html_url,\n                  target: \"_blank\",\n                  style: {// borderColor: '#5ca4da',\n                  },\n                  rel: \"noopener noreferrer\",\n                  children: [/*#__PURE__*/_jsx(\"img\", {\n                    src: \"/images/github.svg\",\n                    alt: \"Github\",\n                    width: \"24\",\n                    height: \"24\"\n                  }), /*#__PURE__*/_jsxs(\"span\", {\n                    style: {\n                      verticalAlign: 'middle'\n                    },\n                    children: [' ', \"GitHub\"]\n                  })]\n                })]\n              }, i);\n            } else {\n              return /*#__PURE__*/_jsx(_Fragment, {});\n            }\n          })\n        })]\n      })\n    })]\n  });\n};\n\nexport default appPage;","map":null,"metadata":{},"sourceType":"module"}