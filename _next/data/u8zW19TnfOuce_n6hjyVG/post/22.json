{"pageProps":{"post":{"url":"https://api.github.com/repos/minecode/minecode.github.io/issues/22","repository_url":"https://api.github.com/repos/minecode/minecode.github.io","labels_url":"https://api.github.com/repos/minecode/minecode.github.io/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/minecode/minecode.github.io/issues/22/comments","events_url":"https://api.github.com/repos/minecode/minecode.github.io/issues/22/events","html_url":"https://github.com/minecode/minecode.github.io/issues/22","id":603580084,"node_id":"MDU6SXNzdWU2MDM1ODAwODQ=","number":22,"title":"[POST] REST e RESTful - Parte 3","user":{"login":"fabiohfab","id":17369918,"node_id":"MDQ6VXNlcjE3MzY5OTE4","avatar_url":"https://avatars.githubusercontent.com/u/17369918?v=4","gravatar_id":"","url":"https://api.github.com/users/fabiohfab","html_url":"https://github.com/fabiohfab","followers_url":"https://api.github.com/users/fabiohfab/followers","following_url":"https://api.github.com/users/fabiohfab/following{/other_user}","gists_url":"https://api.github.com/users/fabiohfab/gists{/gist_id}","starred_url":"https://api.github.com/users/fabiohfab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabiohfab/subscriptions","organizations_url":"https://api.github.com/users/fabiohfab/orgs","repos_url":"https://api.github.com/users/fabiohfab/repos","events_url":"https://api.github.com/users/fabiohfab/events{/privacy}","received_events_url":"https://api.github.com/users/fabiohfab/received_events","type":"User","site_admin":false},"labels":[{"id":2001541402,"node_id":"MDU6TGFiZWwyMDAxNTQxNDAy","url":"https://api.github.com/repos/minecode/minecode.github.io/labels/Api","name":"Api","color":"6750ba","default":false,"description":""},{"id":2001541476,"node_id":"MDU6TGFiZWwyMDAxNTQxNDc2","url":"https://api.github.com/repos/minecode/minecode.github.io/labels/Rest","name":"Rest","color":"d1b51b","default":false,"description":""},{"id":2001541586,"node_id":"MDU6TGFiZWwyMDAxNTQxNTg2","url":"https://api.github.com/repos/minecode/minecode.github.io/labels/Restful","name":"Restful","color":"aa2a46","default":false,"description":""},{"id":1923405712,"node_id":"MDU6TGFiZWwxOTIzNDA1NzEy","url":"https://api.github.com/repos/minecode/minecode.github.io/labels/post","name":"post","color":"2dc64e","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"fabiohfab","id":17369918,"node_id":"MDQ6VXNlcjE3MzY5OTE4","avatar_url":"https://avatars.githubusercontent.com/u/17369918?v=4","gravatar_id":"","url":"https://api.github.com/users/fabiohfab","html_url":"https://github.com/fabiohfab","followers_url":"https://api.github.com/users/fabiohfab/followers","following_url":"https://api.github.com/users/fabiohfab/following{/other_user}","gists_url":"https://api.github.com/users/fabiohfab/gists{/gist_id}","starred_url":"https://api.github.com/users/fabiohfab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabiohfab/subscriptions","organizations_url":"https://api.github.com/users/fabiohfab/orgs","repos_url":"https://api.github.com/users/fabiohfab/repos","events_url":"https://api.github.com/users/fabiohfab/events{/privacy}","received_events_url":"https://api.github.com/users/fabiohfab/received_events","type":"User","site_admin":false},"assignees":[{"login":"fabiohfab","id":17369918,"node_id":"MDQ6VXNlcjE3MzY5OTE4","avatar_url":"https://avatars.githubusercontent.com/u/17369918?v=4","gravatar_id":"","url":"https://api.github.com/users/fabiohfab","html_url":"https://github.com/fabiohfab","followers_url":"https://api.github.com/users/fabiohfab/followers","following_url":"https://api.github.com/users/fabiohfab/following{/other_user}","gists_url":"https://api.github.com/users/fabiohfab/gists{/gist_id}","starred_url":"https://api.github.com/users/fabiohfab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabiohfab/subscriptions","organizations_url":"https://api.github.com/users/fabiohfab/orgs","repos_url":"https://api.github.com/users/fabiohfab/repos","events_url":"https://api.github.com/users/fabiohfab/events{/privacy}","received_events_url":"https://api.github.com/users/fabiohfab/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2020-04-20T22:38:16Z","updated_at":"2020-04-21T08:31:36Z","closed_at":"2020-04-21T08:30:42Z","author_association":"MEMBER","active_lock_reason":null,"body":"Esta é a terceira parte do artigo. Na [primeira](https://minecode.github.io/blog/post/19) e [segunda](https://minecode.github.io/blog/post/20) partes foram abordados outras temáticas de uma API REST tais como os fundamentos, métodos HTTP, códigos de erro e como podemos tornar a nossa API mais RESTful. É aconsellhada a leitura para os leitores que não dominem estes conceitos. Neste parte do artigo vamos abordar a segurança da nossa API.\r\n\r\nNo caso da segurança da nossa API, um dos erros mais importantes é o erro 401, que significa que determinado utilizador não está autorizado a aceder ao recurso solicitado ou que não tem permissões para alterar o estado do recurso. Normalmente, este erro dá-se quando uma autenticação é necessária. Visto que as solicitações são sem estado, é sempre necessário introduzir nestas a informação de que um utilizador está autenticado na API. Existem vários tipos de autenticação: autenticação básica, autenticação por token e JSON Web Token.\r\n\r\n![](https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/gigs/127214439/original/159f1cf368a77ca77eefb529988854bee646d7c4/do-your-api-integration.jpg)\r\n\r\nA autenticação básica consiste em concatenar o nome de utilizador e a palavra passe separadas por dois pontos, \"username:password\", e encriptar em base64. Em cada requisição deverá ser incluído um cabeçalho \"Authorization: Basic base64(username:password)\" no \"Header\" de forma a fornecer as credenciais de acesso à API. Este tipo de autenticação é inseguro, porque no caso de se tratar de aplicações móveis ou aplicativos de página única, é necessário armazenar algures as credencias do utilizador, o que não é uma boa prática. Ainda assim, este tipo de autenticação poderá ser usada com HTTPS, no caso de ser uma API simples ou privada, visto que a implementação não é complexa.\r\n\r\n![](https://blog.restcase.com/content/images/2019/07/website-authentication-authorization.png)\r\n\r\nAs APIs que usam a autenticação por token possuem um URL que aceita a solicitação POST com o nome de utilizador e senha e que retorna um token. Este token geralmente é gerado aleatoriamente ou criptograficamente e é ele que deve ser guardado para posteriormente ser introduzido no cabeçalho \"Authorization\" das requisições. Este token é mapeado para o utilizador e é desta forma que a API sabe qual utilizador está a aceder ao recurso. Os tokens têm imensas vantagens, principalmente a nível de segurança. Desta forma não é necessário guardar a senha do utilizador e assim nunca ficará comprometida. No caso do token ser comprometido, não é necessário alterar a password para que este fique inválido. Outra medida de segurança que pode ser introduzida com este tipo de autenticação é o tempo de validade de um token. Assim sendo, mesmo que um token seja comprometido e que o utilizador não se aperceba, o token irá expirar e será necessário introduzir a password para ter acesso a um novo token.\r\n\r\n![](https://uploads.toptal.io/blog/image/956/toptal-blog-image-1426676395222.jpeg)\r\n\r\nO JSON web token (JWT) é um tipo de token padrão que contém informação útil em JSON para a autenticação. Uma característica principal deste tipo de autenticação é que, como ele transporta uma carga útil de informação, é possível transportar informações, como o nome do utilizador. Desta forma, a cada requisição, não é necessário comunicar com outro recurso do sistema para validar ou recuperar informações do utilizador. De cada token podem ser obtidas informações do servidor como id, dados do perfil e permissões.","closed_by":{"login":"fabiohfab","id":17369918,"node_id":"MDQ6VXNlcjE3MzY5OTE4","avatar_url":"https://avatars.githubusercontent.com/u/17369918?v=4","gravatar_id":"","url":"https://api.github.com/users/fabiohfab","html_url":"https://github.com/fabiohfab","followers_url":"https://api.github.com/users/fabiohfab/followers","following_url":"https://api.github.com/users/fabiohfab/following{/other_user}","gists_url":"https://api.github.com/users/fabiohfab/gists{/gist_id}","starred_url":"https://api.github.com/users/fabiohfab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fabiohfab/subscriptions","organizations_url":"https://api.github.com/users/fabiohfab/orgs","repos_url":"https://api.github.com/users/fabiohfab/repos","events_url":"https://api.github.com/users/fabiohfab/events{/privacy}","received_events_url":"https://api.github.com/users/fabiohfab/received_events","type":"User","site_admin":false},"performed_via_github_app":null},"relatedPosts":[]},"__N_SSG":true}